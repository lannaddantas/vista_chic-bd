<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista Chic</title>

    <link rel="icon" href="img/vclogo.png">
    <link rel="stylesheet" href="estilo.css">
    <link rel="stylesheet" href="cadastro.css">
    <style>
        body {
            background-image: url('./img/vcfundo.png');
            /* LINK da imagem */
            background-size: cover;
            /* cobre toda a tela */
            background-repeat: no-repeat;
            /* não repete */
            background-position: center;
            /* centraliza */
        }
    </style>
    <script>
        function valFormulario() {
            const nomeInput = document.getElementById('tNome');
            const precoInput = document.getElementById('tPreco');
            const marcaInput = document.getElementById('tMarca');
            const tipoInput = document.getElementById('tTipo');
            const tamanhoInput = document.getElementById('tTamanho');
            const quantidadeInput = document.getElementById('tQuantidade');

            // Pegando os valores e limpando espaços
            const nome = nomeInput.value.trim();
            const preco = parseFloat(precoInput.value.replace(",", "."));
            const marca = marcaInput.value.trim();
            const tipo = tipoInput.value.trim();
            const tamanho = tamanhoInput.value.trim();
            const quantidade = parseInt(quantidadeInput.value);

            // Verifica se todos os campos estão preenchidos
            if (!nome || !precoInput.value || !marca || !tipo || !tamanho || !quantidadeInput.value) {
                alert('Por favor, preencha todos os campos.');
                return false;
            }

            // Valida número positivo
            if (isNaN(preco) || preco <= 0) {
                alert('O preço deve ser um número positivo.');
                precoInput.focus();
                return false;
            }

            if (isNaN(quantidade) || quantidade <= 0) {
                alert('A quantidade deve ser um número positivo.');
                quantidadeInput.focus();
                return false;
            }

            // Capitaliza nome, marca e tipo antes de enviar
            nomeInput.value = capitalizarNome(nome);
            marcaInput.value = capitalizarNome(marca);
            tipoInput.value = capitalizarNome(tipo);

            return true; // permite o envio
        }
    </script>
</head>

<body>
    <div id="interface">

        <!-- start header -->
        <header>
            <nav class="navbar">
                <ul>
                    <li><a href="inicio.html">Inicio</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="paginadehistoria.html">Pagina de Historia</a></li>
                    <li><a href="produtos.html">Produtos</a></li>
                    <li><a href="cadastro.html">Cadastro Cliente</a></li>
                    <li><a href="cadastroproduto.html">Cadastro Produto</a></li>
                    <li><a href="cadastroPedido.html">Cadastro Pedido</a></li>
                    <li><a href="./tabela1/consulta_cliente.php">Consulta Cliente</a></li>
                    <li><a href="./tabela1/consulta_produto.php">Consulta Produto</a></li>
                    <li><a href="./tabela1/consulta_pedido.php">Consulta Pedido</a></li>
                    <li><a href="./tabela1/criar_indices.php">Indices</a></li>
                </ul>
            </nav>
            <div class="titulo">
                <h1>Vista Chic</h1>

            </div>

        </header>
        <!-- conteúdo principal -->
        <main>
            <div class="cadastro">

                <!-- <form id="formCadastroProduto"> -->
                <form id="formCadastroProduto" action="tabela1/cadastro_produto.php" method="post"
                    onsubmit="return valFormulario();">
                    <fieldset>
                        <label>Nome:</label>
                        <input type="text" id="tNome" name="tNome">

                        <label>Preço:</label>
                        <input type="number" id="tPreco" name="tPreco" step="0.01">

                        <label>Marca:</label>
                        <input type="text" id="tMarca" name="tMarca">

                        <label>Tipo:</label>
                        <input type="text" id="tTipo" name="tTipo">

                        <label>Tamanho:</label>
                        <select id="tTamanho" name="tTamanho" required>
                            <option value="">Selecione um tamanho</option>
                            <option value="PP">PP</option>
                            <option value="P">P</option>
                            <option value="M">M</option>
                            <option value="G">G</option>
                            <option value="GG">GG</option>
                        </select>

                        <label>Quantidade:</label>
                        <input type="number" id="tQuantidade" name="tQuantidade">

                        <div class="botoes">
                            <input type="reset" value="limpar" class="limpar">
                            <input type="submit" value="enviar" class="enviar">
                        </div>
                    </fieldset>
                </form>
                <!-- <script>
                    document.getElementById("formCadastroProduto").addEventListener("submit", function (e) {
                        e.preventDefault();

                        const nome = document.getElementById("tNome").value;
                        const preco = parseFloat(document.getElementById("tPreco").value.replace(",", "."));
                        const marca = document.getElementById("tMarca").value;
                        const tipo = document.getElementById("tTipo").value;
                        const tamanho = document.getElementById("tTamanho").value;
                        const quantidade = document.getElementById("tQuantidade").value;

                        if (preco <= 0 || quantidade <= 0) {
                            alert("Preço e Quantidade devem ser números positivos!");
                            event.preventDefault(); // Impede o envio do formulário
                            return;
                        }

                        const novoProduto = { nome, preco, marca, tipo, tamanho, quantidade };

                        let produtos = JSON.parse(localStorage.getItem("produtos")) || [];
                        produtos.push(novoProduto);
                        localStorage.setItem("produtos", JSON.stringify(produtos));

                        alert("Cadastro realizado com sucesso!");

                        // Limpar o formulário
                        e.target.reset();
                    });
                </script> -->
                <button class="enviar" onclick="window.location.href='consultaproduto.html'">Ir para Consulta
                    JSON</button>
            </div>
        </main>

        <!-- rodapé -->
        <footer class="rodape">
            <div class="slogan">
                <h2>Trabalho desenvolvido por: Laércio, Lanna, Maria Clara</h2>
            </div>
        </footer>
    </div>
</body>

</html>